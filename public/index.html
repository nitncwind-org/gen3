<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <title><%= htmlWebpackPlugin.options.title %></title>
    <script>
      (function (l) {
          if (l.search) {
            var q = {};
            l.search.slice(1).split('&').forEach(function (v) { // ?p=/fooの分解
              var a = v.split('='); // 'p=/foo' となっているはずなので=で分割
              q[a[0]] = a[1]; // {p: '/foo'} 形式に修正
            });
            if (q.p !== undefined) {
              window.history.replaceState(null, null, l.pathname.slice(0, -1) + (q.p || '')); // https://hoge.com/fooへ遷移
            }
          }
        }(window.location))
    </script>
    <script>
      // https://github.com/NAKNAO-nnct/ban_ie.js
      // ブラウザ判定
      window.onload = function () {
        var userAgent = window.navigator.userAgent;
        // console.log(userAgent);

        if (
          userAgent.indexOf("MSIE") != -1 ||
          !!document.documentMode == true ||
          userAgent.indexOf("Trident/7.0") != -1
        ) {
          console.log("IEでのアクセスは規制されています");

          // headの削除
          let head = document.getElementsByTagName('head')[0];
          head.parentNode.removeChild(head);

          // bodyを書き換え
          let body = document.getElementsByTagName("body");
          body[0].innerHTML =
            '\
            <div style="text-align: center; margin-top: 55px;"><h1 style="color: red;">IEではこのサイトを閲覧することができません</h1><br>\
            <div style="text-align: center; margin-top: 55px;"><h3>You can\'t access this site by IE.</h3><br>\
            <div style="text-align: center; margin-top: 55px;"><h3>動作保証環境: Edge / Chrome / FireFox / Safari</h3></div>\
            ';
        }
      };
    </script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@latest/css/materialdesignicons.min.css">
  </head>
  <body>
    <noscript>
      <strong>We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>
</html>
